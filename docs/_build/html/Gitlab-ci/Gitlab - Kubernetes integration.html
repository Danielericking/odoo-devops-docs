

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Gitlab - Kubernetes integration &mdash; Odoo DevOps  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GitLab Runner" href="Gitlab runner.html" />
    <link rel="prev" title="GitLab CI/CD" href="index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Odoo DevOps
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../first-steps.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Kubernetes/index.html">Kubernetes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">GitLab CI/CD</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Gitlab - Kubernetes integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-an-existing-kubernetes-cluster">Adding an existing Kubernetes cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-applications">Installing applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Gitlab runner.html">GitLab Runner</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Odoo DevOps</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">GitLab CI/CD</a> &raquo;</li>
        
      <li>Gitlab - Kubernetes integration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Gitlab-ci/Gitlab - Kubernetes integration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gitlab-kubernetes-integration">
<h1>Gitlab - Kubernetes integration<a class="headerlink" href="#gitlab-kubernetes-integration" title="Permalink to this headline">¶</a></h1>
<p>You can easily connect existing Kubernetes cluster to your GitLab project. With connected cluster you can use Review Apps, deploy your applications and run your pipelines.</p>
<div class="section" id="adding-an-existing-kubernetes-cluster">
<h2>Adding an existing Kubernetes cluster<a class="headerlink" href="#adding-an-existing-kubernetes-cluster" title="Permalink to this headline">¶</a></h2>
<p>In order to add your existing Kubernetes cluster to your project:</p>
<ul>
<li><p class="first">Navigate to your project’s Operations &gt; Kubernetes page.</p>
</li>
<li><p class="first">Click on Add Kubernetes cluster.</p>
</li>
<li><p class="first">Click on Add an existing Kubernetes cluster and fill in the details:</p>
<blockquote>
<div><ul class="simple">
<li>Kubernetes cluster name (required) - The name you wish to give the cluster.</li>
<li>Environment scope (required) - The associated environment to this cluster. You can leave it with “*”.</li>
<li>API URL (required) - It’s the URL that GitLab uses to access the Kubernetes base API. You can access it locally with cubectl proxy and need to make it accessible externially. In the end you should have something like “<a class="reference external" href="https://kubernetes.example.com">https://kubernetes.example.com</a>”.</li>
<li>CA certificate (optional) - If the API is using a self-signed TLS certificate, you’ll also need to include the ca.crt contents here.</li>
<li>Token - GitLab authenticates against Kubernetes using service tokens, which are scoped to a particular namespace. If you don’t have a service token yet, you can follow the Kubernetes documentation to create one. You can also view or create service tokens in the Kubernetes dashboard (under Config &gt; Secrets). The account that will issue the service token must have admin privileges on the cluster.</li>
<li>Project namespace (optional) - You don’t have to fill it in; by leaving it blank, GitLab will create one for you.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Click on Create Kubernetes cluster.</p>
</li>
</ul>
<p>After a couple of minutes, your cluster will be ready to go.</p>
<p>If you using Minukube cluster or just have Kubernetes Dashboard you can get CA certificate and token in Dashboard. You need to choose default namespace and click on secrets. There should be default token with CA and token inside.</p>
</div>
<div class="section" id="installing-applications">
<h2>Installing applications<a class="headerlink" href="#installing-applications" title="Permalink to this headline">¶</a></h2>
<p>GitLab provides a one-click install for some applications which will be added directly to your connected Kubernetes cluster.</p>
<p>To one-click install applications:</p>
<ul class="simple">
<li>Navigate to your project’s Operations &gt; Kubernetes page.</li>
<li>Click on your connected cluster.</li>
<li>Click install button beside the application you need.</li>
</ul>
<p>You need to install Helm Tiller before you install any other application</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Gitlab runner.html" class="btn btn-neutral float-right" title="GitLab Runner" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="GitLab CI/CD" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, IT-Projects LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>